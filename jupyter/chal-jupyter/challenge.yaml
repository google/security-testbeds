kind: Namespace
apiVersion: v1
metadata:
  name: jupyter-exposed-ui
---
apiVersion: kctf.dev/v1
kind: Challenge
metadata:
  name: challenge
  namespace: jupyter-exposed-ui
spec:
  deployed: true
  powDifficultySeconds: 0
  network:
    public: false
    ports:
      - protocol: "TCP"
        targetPort: 9000
  podTemplate:
    template:
      spec:
        containers:
          - name: challenge
            volumeMounts:
              - name: flag-volume
                mountPath: /chroot/flag
                readOnly: true
        volumes:
          - name: flag-volume
            secret:
              defaultMode: 0555
              secretName: flag-secret
              optional: true
  healthcheck:
    # TIP: disable the healthcheck during development
    enabled: true
    image: kind/healthcheck:638853d938b417b702da1a2d97961ef5569863d95a2e1921f2369825b9104996
  image: kind/challenge:bba08fae31ed191bc304173ac49bdc62e261fcaa5f9f1ef6d8e438e7ea91e19d
