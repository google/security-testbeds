#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# What host address to start the server on.
livy.server.host = 0.0.0.0

# What port to start the server on.
livy.server.port = 8998

# What spark master Livy sessions should use.
livy.spark.master = spark://spark-master:7077

# What spark deploy mode Livy sessions should use.
livy.spark.deploy-mode = client

# If livy should impersonate the requesting users when creating a new session.
livy.impersonation.enabled = true

# List of local directories from where files are allowed to be added to user sessions.
livy.file.local-dir-whitelist = /target/

# If the Livy Web UI should be included in the Livy Server.
livy.ui.enabled = true

# Enable CSRF protection
livy.server.csrf-protection.enabled = false

# ============================================================
# Custom Authentication Filter Configuration
# ============================================================
# Use a custom token-based authentication filter.
# All requests must include: Authorization: Bearer <token>
livy.server.auth.type = token
livy.server.auth.token.class = com.livy.auth.TokenAuthFilter
livy.server.auth.token.param.token = changeme-use-a-strong-secret

# ============================================================
# Access Control
# ============================================================
livy.server.access-control.enabled = true
livy.server.access-control.allowed-users = livy-user

livy.repl.jars = /opt/livy/jars/livy-client-common-0.8.0-incubating.jar, /opt/livy/repl_2.12-jars/livy-core_2.12-0.8.0-incubating.jar, /opt/livy/repl_2.12-jars/commons-codec-1.9.jar, /opt/livy/repl_2.12-jars/livy-core_2.12-0.8.0-incubating.jar, /opt/livy/repl_2.12-jars/minlog-1.3.0.jar, /opt/livy/repl_2.12-jars/kryo-shaded-4.0.2.jar, /opt/livy/repl_2.12-jars/livy-repl_2.12-0.8.0-incubating.jar, /opt/livy/repl_2.12-jars/objenesis-2.5.1.jar

livy.rsc.jars = /opt/livy/rsc-jars/livy-api-0.8.0-incubating.jar, /opt/livy/rsc-jars/livy-rsc-0.8.0-incubating.jar
