# Mostly uses the vulnerable weblogic image from https://hub.docker.com/layers/vulhub/weblogic/12.2.1.3-2018/images/sha256-8ddf63df92426e521e60c2db913602394a799921fb3919094aef012e3ad6b13f?context=explore
# In addition, disable on-demand deployment of admin portal to make testing stable.

FROM vulhub/weblogic:12.2.1.3-2018

ENV ADMIN_PASSWORD='tsunami1'

# Disable on demand weblogic deployment
RUN sed -i '34 i cmo.setInternalAppsDeployOnDemandEnabled(false)' /u01/oracle/create-wls-domain.py

ENTRYPOINT ["/bin/sh","-c"]
CMD ["/u01/oracle/createAndStartEmptyDomain.sh"]
